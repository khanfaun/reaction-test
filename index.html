<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Reaction Time Test</title>
  <link rel="stylesheet" href="index.css" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <span id="currentTitle">X·∫øp h·∫°ng: --</span>

  <div class="mode-selector">
    <label for="mode">Ch·∫ø ƒë·ªô:</label>
    <select id="mode">
      <option value="easy">D·ªÖ</option>
      <option value="medium">Trung b√¨nh</option>
      <option value="hard">Kh√≥</option>
    </select>
    <span id="bestScore">Best: -- ms</span>
    <button id="showChartBtn">
      <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="white" viewBox="0 0 24 24">
        <path d="M8 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1h2a2 2 0 0 1 2 2v15a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h2Zm6 1h-4v2H9a1 1 0 0 0 0 2h6a1 1 0 1 0 0-2h-1V4Zm-6 8a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H9a1 1 0 0 1-1-1Zm1 3a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2H9Z" />
      </svg>
    </button>
  </div>

  <div class="container">
    <div class="clickarea">
      <p class="message">Reaction Time Test</p>
      <p class="note">Click ƒë·ªÉ b·∫Øt ƒë·∫ßu</p>
    </div>
  </div>

  <!-- Popup -->
  <div id="chartModal">
    <button id="toggleRankListBtn">‚ùØ</button>

    <div id="rankListPanel">
      <h3>L·ªô tr√¨nh rank</h3>
      <div id="rankListContent"></div>
    </div>

    <div class="chart-content">
      <button id="closeChartBtn">‚úñ</button>
      <div id="highestTitle">üèÜ X·∫øp h·∫°ng: --</div>
      <div class="chart-subtext">H·ªá th·ªëng kh√¥ng l·ªói. Ch·ªâ c√≥ b·∫°n l·ªói. H√£y ph·∫£n x·∫° nhanh h∆°n, nhi·ªÅu l·∫ßn h∆°n.</div>

      <div id="chartModeButtons">
        <button class="chart-mode-btn" data-mode="easy">D·ªÖ</button>
        <button class="chart-mode-btn" data-mode="medium">Trung b√¨nh</button>
        <button class="chart-mode-btn" data-mode="hard">Kh√≥</button>
      </div>

      <canvas id="chartCanvas" width="500" height="250"></canvas>

      <button id="resetScoresBtn" title="X√≥a d·ªØ li·ªáu">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 24 24">
          <path d="M12 6V4L8 8l4 4V9c2.76 0 5 2.24 5 5 0 1.29-.49 2.47-1.29 3.36l1.42 1.42C18.4 17.37 19 15.76 19 14c0-3.87-3.13-7-7-7zm-5.71.64L4.86 8.07C3.6 9.63 3 11.24 3 13c0 3.87 3.13 7 7 7v2l4-4-4-4v2c-2.76 0-5-2.24-5-5 0-1.29.49-2.47 1.29-3.36z"/>
        </svg>
      </button>
    </div>
  </div>

  <script type="module" src="index.js" defer></script>
  <script>
    document.getElementById('toggleRankListBtn').addEventListener('click', () => {
      const panel = document.getElementById('rankListPanel')
      const toggleBtn = document.getElementById('toggleRankListBtn')
      panel.classList.toggle('open')
      toggleBtn.textContent = panel.classList.contains('open') ? '‚ùÆ' : '‚ùØ'
    })

    const rankNames = [
      'Ch∆∞a c√≥ rank','Silver 1','Silver 2','Silver 3','Silver 4','Silver Elite','Silver Elite Master',
      'Nova 1','Nova 2','Nova 3','Nova Master','Master Guardian 1','Master Guardian 2','Master Guardian Elite',
      'Distinguished Master Guardian','Legendary Eagle','Legendary Eagle Master','Supreme Master First Class','Global Elite'
    ]
    document.getElementById('rankListContent').innerHTML = rankNames.map((name, i) =>
      `<div><img src="img/skillgroup${i}.png" alt=""> ${name}</div>`
    ).join('')
  </script>
</body>
</html>
